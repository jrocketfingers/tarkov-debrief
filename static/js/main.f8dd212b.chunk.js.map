{"version":3,"sources":["maps/customs.png","maps/interchange.png","maps/woods.png","maps/labs.jpg","maps/reserve.png","maps/shoreline.png","maps/lighthouse.png","maps/factory.jpg","maps/streets.png","maps/customs-thumbnail.png","maps/interchange-thumbnail.png","maps/woods-thumbnail.png","maps/labs-thumbnail.png","maps/reserve-thumbnail.png","maps/shoreline-thumbnail.png","maps/lighthouse-thumbnail.png","maps/factory-thumbnail.png","maps/streets-thumbnail.png","MapSelector.tsx","tools/undo.ts","tools/tool.ts","icons/select.svg","icons/pencil.svg","icons/eraser.svg","icons/undo.svg","icons/marker.svg","icons/save.svg","icons/pmc-thick.svg","icons/pmc-med.svg","icons/pmc-light.svg","icons/scav.svg","tools/select.ts","tools/pencil.ts","tools/eraser.ts","tools/stamp.ts","tools/pan.ts","App.tsx","tools/zoom.ts","icons/github.png","reportWebVitals.ts","index.tsx"],"names":["maps","customs","interchange","woods","labs","reserve","shoreline","factory","lighthouse","streets","thumbnails","customsThumbnail","interchangeThumbnail","woodsThumbnail","labsThumbnail","reserveThumbnail","shorelineThumbnail","factoryThumbnail","lighthouseThumbnail","streetsThumbnail","MapSelector","canvas","ToolType","className","to","Object","entries","map","key","src","alt","keyboardListener","event","ctrlKey","undo","onUse","onChoice","tool","setTool","maybeCanvas","setColor","unerasable","setSidebar","markerUrl","prevTool","backgroundImage","type","select","cursor","pencil","onColorChoice","color","hex","freeDrawingBrush","active","eraser","opt","undefined","target","fabric","Image","has","getSrc","remove","onClick","onRelease","markerCache","evt","cursorString","defaultCursor","hoverCursor","marker","placeMarker","a","e","altKey","cachedImage","Promise","resolve","fromURL","newImage","clone","image","pointer","getPointer","left","x","top","y","zoom","getZoom","scale","add","lastPos","onDrag","vpt","viewportTransform","clientX","clientY","requestRenderAll","onStartDrag","button","preventDefault","pan","on","isDrawingMode","onStopDrag","off","githubUrl","defaultSize","width","height","Set","PENCIL_COLOR","SidebarSection","title","children","App","useParams","containerRef","useRef","appRef","useState","console","log","canvasInstance","setToolOuter","setCanvas","sidebar","setSelect","useEffect","selection","toolOuter","setColorOuter","usePencil","setPencil","setEraser","unerasableOuter","useEraser","appEl","current","addEventListener","removeEventListener","useUndo","selectMarker","setSidebarOuter","useStamp","usePan","brushWidth","delta","deltaY","zoomToPoint","offsetX","offsetY","stopPropagation","useZoom","Canvas","perPixelTargetFind","fireMiddleClick","fireRightClick","setCursor","pencilIcon","initializeCanvas","imageInstance","selectable","clearHistory","resizeListener","window","offsetWidth","offsetHeight","setDimensions","ref","href","selectIcon","eraserIcon","undoIcon","addMarkerIcon","url","name","link","document","createElement","download","body","appendChild","click","removeChild","startDownload","toDataURL","multiplier","saveIcon","id","thickPMCMarker","mediumPMCMarker","lightPMCMarker","scavMarker","triangle","onChangeComplete","tabIndex","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactGA","initialize","pageview","location","pathname","search","ReactDOM","render","StrictMode","basename","path","getElementById"],"mappings":"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","file":"static/js/main.f8dd212b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/customs.e4219f37.png\";","export default __webpack_public_path__ + \"static/media/interchange.92e0a75b.png\";","export default __webpack_public_path__ + \"static/media/woods.1db93aa7.png\";","export default __webpack_public_path__ + \"static/media/labs.bf97da17.jpg\";","export default __webpack_public_path__ + \"static/media/reserve.074ec021.png\";","export default __webpack_public_path__ + \"static/media/shoreline.23bac9da.png\";","export default __webpack_public_path__ + \"static/media/lighthouse.feafda1b.png\";","export default __webpack_public_path__ + \"static/media/factory.e43025b0.jpg\";","export default __webpack_public_path__ + \"static/media/streets.9ba343df.png\";","export default __webpack_public_path__ + \"static/media/customs-thumbnail.b02c6216.png\";","export default __webpack_public_path__ + \"static/media/interchange-thumbnail.20071bd5.png\";","export default __webpack_public_path__ + \"static/media/woods-thumbnail.70d05156.png\";","export default __webpack_public_path__ + \"static/media/labs-thumbnail.b903d684.png\";","export default __webpack_public_path__ + \"static/media/reserve-thumbnail.a98054b0.png\";","export default __webpack_public_path__ + \"static/media/shoreline-thumbnail.2a773a10.png\";","export default __webpack_public_path__ + \"static/media/lighthouse-thumbnail.34c948e6.png\";","export default __webpack_public_path__ + \"static/media/factory-thumbnail.c6017793.png\";","export default __webpack_public_path__ + \"static/media/streets-thumbnail.daa07de5.png\";","import { Link } from 'react-router-dom';\r\n\r\nimport \"./MapSelector.css\";\r\n\r\nimport customs from \"./maps/customs.png\";\r\nimport interchange from \"./maps/interchange.png\";\r\nimport woods from \"./maps/woods.png\";\r\nimport labs from \"./maps/labs.jpg\";\r\nimport reserve from \"./maps/reserve.png\";\r\nimport shoreline from \"./maps/shoreline.png\";\r\nimport lighthouse from \"./maps/lighthouse.png\";\r\nimport factory from \"./maps/factory.jpg\";\r\nimport streets from \"./maps/streets.png\";\r\n\r\nimport customsThumbnail from \"./maps/customs-thumbnail.png\";\r\nimport interchangeThumbnail from \"./maps/interchange-thumbnail.png\";\r\nimport woodsThumbnail from \"./maps/woods-thumbnail.png\";\r\nimport labsThumbnail from \"./maps/labs-thumbnail.png\";\r\nimport reserveThumbnail from \"./maps/reserve-thumbnail.png\";\r\nimport shorelineThumbnail from \"./maps/shoreline-thumbnail.png\";\r\nimport lighthouseThumbnail from \"./maps/lighthouse-thumbnail.png\";\r\nimport factoryThumbnail from \"./maps/factory-thumbnail.png\";\r\nimport streetsThumbnail from \"./maps/streets-thumbnail.png\";\r\n\r\nexport const maps: Record<string, string> = {customs, interchange, woods, labs, reserve, shoreline, factory, lighthouse, streets};\r\nexport const thumbnails: Record<string, string> = {\r\n  customs: customsThumbnail,\r\n  interchange: interchangeThumbnail,\r\n  woods: woodsThumbnail,\r\n  labs: labsThumbnail,\r\n  reserve: reserveThumbnail,\r\n  shoreline: shorelineThumbnail,\r\n  factory: factoryThumbnail,\r\n  lighthouse: lighthouseThumbnail,\r\n  streets: streetsThumbnail,\r\n};\r\n\r\nfunction MapSelector() {\r\n  return (\r\n    <div className=\"MapSelector\">\r\n      <header className=\"App-header\">\r\n        <Link className=\"App-header-title\" to=\"/\">Tarkov Debrief</Link>\r\n      </header>\r\n      <section className=\"MapList\">\r\n        {Object.entries(maps).map(([key, value]) => \r\n          <Link key={key} className=\"MapList-Card\" to={`/app/${key}`}>\r\n            <img src={thumbnails[key]} alt=\"key\"/>\r\n            <p>{key}</p>\r\n          </Link>\r\n        )}\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MapSelector;","import { fabric } from 'fabric';\r\nimport { RefObject, useEffect } from 'react';\r\n\r\nlet canvas: fabric.Canvas | null;\r\n\r\nconst keyboardListener = (event: KeyboardEvent) => {\r\n  if (event.ctrlKey && event.key === \"z\") {\r\n    canvas?.undo();\r\n  }\r\n}\r\n\r\nexport const onUse = () => {\r\n  canvas?.undo();\r\n}\r\n\r\nexport const onChoice = () => {\r\n  onUse();\r\n}\r\n\r\nexport const useUndo = (canvasInstance: fabric.Canvas | null, appRef: RefObject<HTMLDivElement>) => {\r\n  canvas = canvasInstance;\r\n\r\n  useEffect(() => {\r\n    const appEl = appRef.current;\r\n    appEl?.addEventListener(\"keydown\", keyboardListener);\r\n\r\n    return () => {\r\n      appEl?.removeEventListener(\"keydown\", keyboardListener);\r\n    }\r\n  }, [appRef]);\r\n  return { onUse, onChoice };\r\n}\r\n","export enum ToolType {\r\n  select = \"select\",\r\n  pencil = \"pencil\",\r\n  eraser = \"eraser\",\r\n  marker = \"marker\",\r\n  pan = \"pan\",\r\n}\r\n\r\nexport type Tool = {\r\n  active: boolean;\r\n  type: ToolType;\r\n  cursor: null | string;\r\n};\r\n\r\nexport type SetToolFn = (tool: Tool) => void;\r\n","export default __webpack_public_path__ + \"static/media/select.87afa2df.svg\";","export default __webpack_public_path__ + \"static/media/pencil.e46769b8.svg\";","export default __webpack_public_path__ + \"static/media/eraser.fa7a8623.svg\";","export default __webpack_public_path__ + \"static/media/undo.d1789e03.svg\";","export default __webpack_public_path__ + \"static/media/marker.bde95ba7.svg\";","export default __webpack_public_path__ + \"static/media/save.701089e7.svg\";","export default __webpack_public_path__ + \"static/media/pmc-thick.06ec4e73.svg\";","export default __webpack_public_path__ + \"static/media/pmc-med.e805ac2f.svg\";","export default __webpack_public_path__ + \"static/media/pmc-light.df62ab6d.svg\";","export default __webpack_public_path__ + \"static/media/scav.dc628d8a.svg\";","import { fabric } from \"fabric\";\r\nimport { useEffect } from \"react\";\r\nimport { Tool, ToolType, SetToolFn } from './tool';\r\n\r\nlet canvas: fabric.Canvas | null;\r\nlet tool: Tool;\r\nlet setTool: SetToolFn;\r\n\r\nexport const onChoice = () => {\r\n  setTool({\r\n    ...tool,\r\n    type: ToolType.select,\r\n    cursor: null,\r\n  });\r\n}\r\n\r\nexport const useSelect = (canvasInstance: fabric.Canvas | null, setToolOuter: SetToolFn, toolOuter: Tool) => {\r\n  canvas = canvasInstance;\r\n  setTool = setToolOuter;\r\n  tool = toolOuter;\r\n\r\n  useEffect(() => {\r\n    if(tool.type === ToolType.select && canvas) {\r\n      canvas.selection = true;\r\n\r\n      return () => {\r\n        if(canvas) canvas.selection = false;\r\n      };\r\n    }\r\n  }, [setToolOuter, canvasInstance]);\r\n\r\n  return { onChoice };\r\n};","import { fabric } from \"fabric\";\r\nimport { useEffect } from \"react\";\r\nimport { ColorResult } from \"react-color\";\r\nimport { Tool, ToolType, SetToolFn } from \"./tool\";\r\n\r\nlet maybeCanvas: fabric.Canvas | null;\r\nlet tool: Tool;\r\nlet setTool: SetToolFn;\r\nlet setColor: (color: string) => void;\r\n\r\nexport const onChoice = () => {\r\n  setTool({\r\n    ...tool,\r\n    type: ToolType.pencil,\r\n    cursor: null,\r\n  });\r\n};\r\n\r\nconst onColorChoice = (color: ColorResult) => {\r\n  if (!maybeCanvas) return;\r\n  const canvas = maybeCanvas!;\r\n\r\n  setColor(color.hex);\r\n  if (canvas) {\r\n    canvas.freeDrawingBrush.color = color.hex;\r\n  }\r\n};\r\n\r\nexport const usePencil = (\r\n  canvas: fabric.Canvas | null,\r\n  setToolOuter: SetToolFn,\r\n  toolOuter: Tool,\r\n  setColorOuter: (color: string) => void\r\n) => {\r\n  maybeCanvas = canvas;\r\n  setTool = setToolOuter;\r\n  tool = toolOuter;\r\n  setColor = setColorOuter;\r\n\r\n  useEffect(() => {\r\n    if (toolOuter.type === ToolType.pencil && maybeCanvas) {\r\n      maybeCanvas.isDrawingMode = true;\r\n\r\n      return () => {\r\n        if (maybeCanvas) maybeCanvas.isDrawingMode = false;\r\n      };\r\n    }\r\n  }, [toolOuter, canvas]);\r\n\r\n  return { onChoice, onColorChoice };\r\n};\r\n","import { fabric } from \"fabric\";\r\nimport { IEvent } from \"fabric/fabric-impl\";\r\nimport { useEffect } from \"react\";\r\nimport { SetToolFn, Tool, ToolType } from \"./tool\";\r\n\r\nlet maybeCanvas: fabric.Canvas | null;\r\nlet tool: Tool;\r\nlet setTool: SetToolFn;\r\nlet unerasable: Set<string>;\r\nlet active = false;\r\n\r\nexport const onChoice = () => {\r\n  setTool({\r\n    ...tool,\r\n    type: ToolType.eraser,\r\n    cursor: null,\r\n  });\r\n}\r\n\r\nexport const onUse = (opt: IEvent) => {\r\n  if (tool.type === ToolType.eraser && opt.target !== undefined && active) {\r\n    if (\r\n      opt.target instanceof fabric.Image &&\r\n      unerasable.has(opt.target.getSrc())\r\n    ) {\r\n      return;\r\n    }\r\n    maybeCanvas?.remove(opt.target!);\r\n  }\r\n}\r\n\r\nconst onClick = () => {\r\n  active = true;\r\n}\r\n\r\nconst onRelease = () => {\r\n  active = false;\r\n}\r\n\r\nexport const useEraser = (canvas: fabric.Canvas | null, setToolOuter: SetToolFn, toolOuter: Tool, unerasableOuter: Set<string>) => {\r\n  maybeCanvas = canvas;\r\n  setTool = setToolOuter;\r\n  tool = toolOuter;\r\n  unerasable = unerasableOuter;\r\n\r\n  useEffect(() => {\r\n    if(tool.type === ToolType.eraser && maybeCanvas) {\r\n      maybeCanvas.on(\"mouse:move\", onUse);\r\n      maybeCanvas.on(\"mouse:down\", onClick);\r\n      maybeCanvas.on(\"mouse:up\", onRelease);\r\n      maybeCanvas.selection = false;\r\n\r\n      return () => {\r\n        if(maybeCanvas) {\r\n          maybeCanvas.off(\"mouse:move\", onUse);\r\n          maybeCanvas.off(\"mouse:move\", onClick);\r\n          maybeCanvas.off(\"mouse:move\", onRelease);\r\n          active = false;\r\n        }\r\n      };\r\n    }\r\n  }, [toolOuter, canvas]);\r\n\r\n  return { onChoice, onUse };\r\n};","/* Stamp tool places a marker -- scav icon, pmc icon, etc */\r\n\r\nimport { fabric } from \"fabric\";\r\nimport { IEvent } from \"fabric/fabric-impl\";\r\nimport { useEffect } from \"react\";\r\nimport { SetToolFn, Tool, ToolType } from \"./tool\";\r\n\r\nlet setTool: SetToolFn;\r\nlet tool: Tool;\r\nlet setSidebar: (visible: boolean) => void;\r\nlet markerUrl: string;\r\nlet maybeCanvas: fabric.Canvas | null;\r\nconst markerCache: Record<string, fabric.Image> = {};\r\n\r\nexport const onChoice = (\r\n  evt: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n) => {\r\n  const target = evt.target as HTMLImageElement;\r\n  markerUrl = target.src;\r\n  const cursorString = `url(${markerUrl}), auto`;\r\n\r\n  if (maybeCanvas) {\r\n    maybeCanvas.defaultCursor = cursorString;\r\n    maybeCanvas.hoverCursor = cursorString;\r\n  }\r\n\r\n  setTool({ ...tool, type: ToolType.marker })\r\n\r\n  setSidebar(false);\r\n};\r\n\r\nconst placeMarker = async (evt: IEvent) => {\r\n  if (!maybeCanvas) return;\r\n  const canvas = maybeCanvas!;\r\n\r\n  if ((evt.e as MouseEvent).altKey) return;\r\n\r\n  let cachedImage = markerCache[markerUrl];\r\n  if (!cachedImage) {\r\n    const newImage: fabric.Image = await new Promise((resolve) =>\r\n      fabric.Image.fromURL(markerUrl, resolve)\r\n    );\r\n    markerCache[markerUrl] = newImage;\r\n    cachedImage = newImage;\r\n  }\r\n\r\n  const image: fabric.Image = await new Promise((resolve) =>\r\n    cachedImage.clone(resolve)\r\n  );\r\n\r\n  const pointer = canvas.getPointer(evt.e);\r\n  image.left = pointer.x;\r\n  image.top = pointer.y;\r\n\r\n  const zoom = canvas.getZoom();\r\n  image.scale(1 / zoom);\r\n\r\n  canvas.add(image);\r\n};\r\n\r\n\r\nexport const useStamp = (\r\n  canvas: fabric.Canvas | null,\r\n  setSidebarOuter: (visible: boolean) => void,\r\n  toolOuter: Tool,\r\n  setToolOuter: SetToolFn,\r\n) => {\r\n  tool = toolOuter;\r\n  setTool = setToolOuter;\r\n  setSidebar = setSidebarOuter;\r\n  maybeCanvas = canvas;\r\n\r\n  useEffect(() => {\r\n    if (canvas && toolOuter.type === ToolType.marker) {\r\n      canvas.on('mouse:down', placeMarker);\r\n\r\n      return () => {\r\n        canvas.off('mouse:down', placeMarker);\r\n        canvas.defaultCursor = 'auto';\r\n        canvas.hoverCursor = 'auto';\r\n      }\r\n    }\r\n  }, [toolOuter, canvas]);\r\n\r\n  return { onChoice };\r\n};","import { IEvent } from \"fabric/fabric-impl\";\r\nimport { useEffect } from \"react\";\r\nimport { SetToolFn, Tool, ToolType } from \"./tool\";\r\n\r\nlet maybeCanvas: fabric.Canvas | null;\r\nlet tool: Tool;\r\nlet prevTool: Tool;\r\nlet setTool: SetToolFn;\r\nlet lastPos: { x: number, y: number } = { x: 0, y: 0 };\r\nlet active: boolean = false;\r\n\r\nexport const onDrag = (opt: IEvent) => {\r\n  if (!maybeCanvas) return;\r\n  const canvas = maybeCanvas!;\r\n  const e = opt.e as MouseEvent;\r\n\r\n  var vpt = canvas.viewportTransform;\r\n  vpt![4] += e.clientX - lastPos.x;\r\n  vpt![5] += e.clientY - lastPos.y;\r\n  canvas.requestRenderAll();\r\n  lastPos = { x: e.clientX, y: e.clientY };\r\n};\r\n\r\nexport const onStartDrag = (opt: IEvent) => {\r\n  const e = opt.e as MouseEvent;\r\n  if (e.button === 1) { // middle click\r\n    e.preventDefault();\r\n    prevTool = tool;\r\n    setTool({\r\n      ...tool,\r\n      type: ToolType.pan,\r\n    });\r\n    active = true;\r\n    lastPos = { x: e.clientX, y: e.clientY };\r\n    maybeCanvas?.on(\"mouse:move\", onDrag);\r\n    if (maybeCanvas) maybeCanvas.isDrawingMode = false;\r\n  }\r\n}\r\n\r\nexport const onStopDrag = (opt: IEvent) => {\r\n  if (active) {\r\n    active = false;\r\n    maybeCanvas?.off(\"mouse:move\", onDrag);\r\n    setTool({\r\n      ...prevTool,\r\n    });\r\n  }\r\n}\r\n\r\nexport const usePan = (canvasInstance: fabric.Canvas | null, setToolOuter: SetToolFn, toolOuter: Tool) => {\r\n  maybeCanvas = canvasInstance;\r\n  setTool = setToolOuter;\r\n  tool = toolOuter;\r\n\r\n  useEffect(() => {\r\n    canvasInstance?.on(\"mouse:down\", onStartDrag);\r\n    canvasInstance?.on(\"mouse:up\", onStopDrag);\r\n\r\n    return () => {\r\n      canvasInstance?.off(\"mouse:down\", onStartDrag)\r\n      canvasInstance?.off(\"mouse:up\", onStopDrag)\r\n    }\r\n  }, [canvasInstance]);\r\n}","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { fabric } from \"fabric\";\r\nimport { TwitterPicker } from \"react-color\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport \"fabric-history\";\r\nimport \"./App.css\";\r\nimport \"./Sidebar.css\";\r\n\r\nimport { maps } from \"./MapSelector\";\r\n\r\nimport githubLogo from \"./icons/github.png\";\r\nimport selectIcon from \"./icons/select.svg\";\r\nimport pencilIcon from \"./icons/pencil.svg\";\r\nimport eraserIcon from \"./icons/eraser.svg\";\r\nimport undoIcon from \"./icons/undo.svg\";\r\nimport addMarkerIcon from \"./icons/marker.svg\";\r\nimport saveIcon from \"./icons/save.svg\";\r\n\r\nimport { useUndo } from \"./tools/undo\";\r\n\r\nimport thickPMCMarker from \"./icons/pmc-thick.svg\";\r\nimport mediumPMCMarker from \"./icons/pmc-med.svg\";\r\nimport lightPMCMarker from \"./icons/pmc-light.svg\";\r\nimport scavMarker from \"./icons/scav.svg\";\r\nimport { Tool, ToolType } from \"./tools/tool\";\r\nimport { useSelect } from \"./tools/select\";\r\nimport { usePencil } from \"./tools/pencil\";\r\nimport { useEraser } from \"./tools/eraser\";\r\nimport { useStamp } from \"./tools/stamp\";\r\nimport { useZoom } from \"./tools/zoom\";\r\nimport { usePan } from \"./tools/pan\";\r\n\r\nconst githubUrl = \"https://github.com/jrocketfingers/tarkov-debrief\";\r\n\r\ntype Size = { width: number; height: number };\r\n\r\nconst defaultSize: Size = { width: 300, height: 300 };\r\nlet backgroundImage: fabric.Image;\r\nlet unerasable = new Set<string>();\r\n\r\nfunction startDownload(url: string, name: string): void {\r\n  const link = document.createElement(\"a\");\r\n  link.download = name;\r\n  link.href = url;\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n}\r\n\r\nconst brushWidth = 5;\r\nconst PENCIL_COLOR: string = \"#f00\";\r\n\r\nfunction initializeCanvas() {\r\n  const canvas = new fabric.Canvas(\"canvas\", {\r\n    height: defaultSize.height,\r\n    width: defaultSize.width,\r\n    isDrawingMode: true,\r\n    perPixelTargetFind: true,\r\n    selection: false,\r\n    fireMiddleClick: true,\r\n    fireRightClick: true,\r\n  });\r\n\r\n  canvas.freeDrawingBrush.color = PENCIL_COLOR;\r\n  canvas.freeDrawingBrush.width = brushWidth;\r\n\r\n  canvas.setCursor(`url(${pencilIcon})`);\r\n\r\n  return canvas;\r\n}\r\n\r\ninterface SidebarSectionProps {\r\n  title: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nfunction SidebarSection({ title, children }: SidebarSectionProps) {\r\n  return (\r\n    <div className=\"sidebar-section\">\r\n      <h1 className=\"sidebar-section-title\">{title}</h1>\r\n      <div className=\"sidebar-section-content\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface Params {\r\n  map: string;\r\n}\r\n\r\nfunction App() {\r\n  const { map } = useParams<Params>();\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const appRef = useRef<HTMLDivElement>(null);\r\n  const [tool, setTool] = useState<Tool>({\r\n    type: ToolType.pencil,\r\n    active: false,\r\n    cursor: null,\r\n  });\r\n\r\n  console.log(\"rerender\");\r\n\r\n  const [color, setColor] = useState<string>(PENCIL_COLOR);\r\n  const [maybeCanvas, setCanvas] = useState<fabric.Canvas | null>(null);\r\n  const [sidebar, setSidebar] = useState<boolean>(false);\r\n\r\n  const save = () => {\r\n    if (maybeCanvas) {\r\n      const url = maybeCanvas.toDataURL({ multiplier: 3 });\r\n      startDownload(url, \"startegy.png\");\r\n    }\r\n  };\r\n\r\n  const { onChoice: setSelect } = useSelect(maybeCanvas, setTool, tool);\r\n\r\n  const { onChoice: setPencil, onColorChoice } = usePencil(\r\n    maybeCanvas,\r\n    setTool,\r\n    tool,\r\n    setColor\r\n  );\r\n\r\n  const { onChoice: setEraser } = useEraser(\r\n    maybeCanvas,\r\n    setTool,\r\n    tool,\r\n    unerasable\r\n  );\r\n\r\n  const { onUse: undo } = useUndo(maybeCanvas, appRef);\r\n\r\n  const { onChoice: selectMarker } = useStamp(\r\n    maybeCanvas,\r\n    setSidebar,\r\n    tool,\r\n    setTool\r\n  );\r\n\r\n  usePan(maybeCanvas, setTool, tool);\r\n\r\n  // FIXME: untie zoom tool from brush\r\n  useZoom(maybeCanvas, brushWidth);\r\n\r\n  const showSidebar = () => {\r\n    setSidebar(true);\r\n  };\r\n\r\n  const hideSidebar = () => {\r\n    setSidebar(false);\r\n  };\r\n\r\n  // Run-once\r\n  useEffect(() => {\r\n    setCanvas(initializeCanvas());\r\n  }, []);\r\n\r\n  // Load map and ensure it's fullscreen\r\n  useEffect(() => {\r\n    let image: fabric.Image;\r\n\r\n    if (!maybeCanvas) return;\r\n    const canvas = maybeCanvas!;\r\n\r\n    fabric.Image.fromURL(maps[map], (imageInstance) => {\r\n      image = imageInstance;\r\n      image.canvas = canvas;\r\n      image.selectable = false;\r\n      backgroundImage = image;\r\n      unerasable.add(backgroundImage.getSrc());\r\n      canvas.add(image);\r\n      canvas.clearHistory();\r\n    });\r\n\r\n    function resizeListener() {\r\n      if (containerRef.current) {\r\n        const width = containerRef.current.offsetWidth;\r\n        const height = containerRef.current.offsetHeight;\r\n        maybeCanvas?.setDimensions({ width, height });\r\n      } else {\r\n        maybeCanvas?.setDimensions(defaultSize);\r\n      }\r\n    }\r\n\r\n    resizeListener();\r\n\r\n    window.addEventListener(\"resize\", resizeListener);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", resizeListener);\r\n    };\r\n  }, [map, maybeCanvas]);\r\n\r\n  return (\r\n    <div className=\"App\" ref={appRef}>\r\n      <header className=\"App-header\">\r\n        <section className=\"App-header-left\">\r\n          <Link className=\"App-header-title\" to=\"/\">\r\n            Tarkov Debrief\r\n          </Link>\r\n          <a href={githubUrl}>\r\n            <img src={githubLogo} alt=\"github logo\" className=\"App-header-github-logo\"/>\r\n          </a>\r\n          <a href={githubUrl} className=\"App-header-github\">Read more on github</a>\r\n        </section>\r\n        <section className=\"App-header-buttons\">\r\n          <button onClick={setSelect}>\r\n            <img src={selectIcon} alt=\"select\" />\r\n          </button>\r\n          <button onClick={setPencil}>\r\n            <img src={pencilIcon} alt=\"pencil\" />\r\n          </button>\r\n          <button onClick={setEraser}>\r\n            <img src={eraserIcon} alt=\"eraser\" />\r\n          </button>\r\n          <button onClick={undo}>\r\n            <img src={undoIcon} alt=\"undo\" />\r\n          </button>\r\n          <button onClick={showSidebar}>\r\n            <img src={addMarkerIcon} alt=\"undo\" />\r\n          </button>\r\n          <button onClick={save}>\r\n            <img\r\n              className=\"App-header-buttons-save\"\r\n              src={saveIcon}\r\n              alt=\"save\"\r\n            />\r\n          </button>\r\n        </section>\r\n      </header>\r\n      <aside className={sidebar ? \"enter\" : \"\"}>\r\n        <section onClick={hideSidebar} id=\"closeArea\"></section>\r\n        <section id=\"sidebar\">\r\n          <SidebarSection title=\"Markers\">\r\n            <button onClick={selectMarker}>\r\n              <img src={thickPMCMarker} alt=\"thick PMC\" />\r\n            </button>\r\n            <button onClick={selectMarker}>\r\n              <img src={mediumPMCMarker} alt=\"medium PMC\" />\r\n            </button>\r\n            <button onClick={selectMarker}>\r\n              <img src={lightPMCMarker} alt=\"light PMC\" />\r\n            </button>\r\n            <button onClick={selectMarker}>\r\n              <img src={scavMarker} alt=\"light PMC\" />\r\n            </button>\r\n          </SidebarSection>\r\n          <SidebarSection title=\"\">\r\n            <TwitterPicker\r\n              color={color}\r\n              triangle=\"hide\"\r\n              onChangeComplete={onColorChoice}\r\n            ></TwitterPicker>\r\n          </SidebarSection>\r\n        </section>\r\n      </aside>\r\n      <div className=\"Canvas\" ref={containerRef} tabIndex={0}>\r\n        <canvas id=\"canvas\"></canvas>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { fabric } from \"fabric\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport const useZoom = (canvasInstance: fabric.Canvas | null, brushWidth: number) => {\r\n  useEffect(() => {\r\n    if (!canvasInstance) return;\r\n    const canvas = canvasInstance!;\r\n\r\n    /* zoom */\r\n    canvas.on(\"mouse:wheel\", function (opt) {\r\n      const event = opt.e as WheelEvent;\r\n      const delta = event.deltaY;\r\n      let zoom = canvas.getZoom();\r\n      zoom *= 0.999 ** delta;\r\n      if (zoom > 20) zoom = 20;\r\n      if (zoom < 0.01) zoom = 0.01;\r\n      canvas.zoomToPoint(\r\n        { x: event.offsetX, y: event.offsetY } as fabric.Point,\r\n        zoom\r\n      );\r\n      canvas.freeDrawingBrush.width = brushWidth / zoom;\r\n      opt.e.preventDefault();\r\n      opt.e.stopPropagation();\r\n    });\r\n  }, [brushWidth, canvasInstance]);\r\n};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2QlVUZfllYUBe2YCuQFNel9Q9EcVEQSA3xB2pTSVcESjELnZomBW0ya5w0m1GyzKSmtEYDc6hGohRDrUGQZUko0EARCAXK+FEwXFz2yvY+fO/d+fbu/fm++533+7n3PDPPwC6Xc77zPvc7P+95z3t6dHR0kEXpoleJtGMwcwTzE8w6Zi1zELNG2JfZJ+P/tDEPMPcK32JuY25lbmauZ/476YbpkcA3+BjmucxxwlHMAUp1vc18ifmisJnZagU2jyHMKcxJzPOzvI1hAW/9MuYS5pPMN6zAxeNjzOnMq5mjY/qMLcyFzPnMXVZgb7iQOYt5ObMyIT1hO/MPzJ8xn7cCZ5/sTWXeKpOlJAOTs/uYTzBT5S4whJ3BvIM5tMRWKFuYd0v3nSpHgT/NnMs8pcSXoq8xZzOfKheBT2I+wLy0zHwOzzC/LoKHhooQ68KE6XYZo8pNXJI2rxMbVJbaG3wa83HmGWRBIvQ05oakv8E9mF9hrrHidsEZYpOvio0S+QbD//tL5lVWz7z4HXMmOX7xxAhcz1wkXbNFYWxkXsZ8PQld9HjmKiuuL5wqNhsfd4GbyHHVDbCa+cYAsV1TXAXGOPIbZm+rVdHoLTa8Pm4C3yQTqgqrkRFNHhGbxmKSNVPEtTCPLwa1bVCBm6RLsW+uDg4zryFnzzl0gcfLpMCOubo4RM4e+YowBa6Xab2dLYcDxIaNKWadXIzA8FCtlrWbRXiAM+Qc8unx8jt2wm/6KytuJDhVbN9DU2BsHFwZ8EH3keNof1n+XurYJ21Fm/cHLOtK0UCli4brcS0FD1n9DHWNbjhOJhHYL4U/9uiEC3qQnAC8Z2QSusP1b43MxQHLR+huA/OfJgXGBvXfKPiWHyYLOHHQnuPfq8mJ0UJUZdKC7/CWIqoSMVjv5rHjf5n9A9aF/eSz89jRdxd9G5nZz11S4KFgmHlSF4LcWxIg7Gp51hHy7O/m+Wy72CAoYJ9vmBqDT2Z+25AxXvDxWXRxOKLyOXLOC8UNW2VMHCPP6hXLDdV/h2gTuIv+M/NiQw/VIOO4X2DcnyNftFxzgDdkXHqVuZOcg2MgDpa9J2Njm6s8jPVV5BxOGyz8ODlRnsOYJ+QZA+9h3st8v0gbvGTInkuZlwQRGKGtfzL0MO1i0PYAZcDBAkf8cOZK6RGWy/hnOiIC6/3TyfHYnUfOQTd8gW6gYJGRlfKFMxV4lzlp9SxwL2nQSYYe5M08b4XftTh4OOQuOT2cmah3u6weTOB1WeGk/I7BMwyKC7xlqJyOCMRNC2uq3v8YfK560crXJKtSBnHT60MLB6bPGEOr3n4ExkGwoVaHxABaXe1H4DkKD3GU1aETGt66W70KPJF0vEgnWF07MUShzNNFu4IC36jUqIHMflbbIzYYqFT2TYUERtqEzypVjqXNWVbfIzbQOq7SKBrmFHgG6Z58m2j1VbVBZeaSKVPgJuXGNVp91W3QlEtgJBDTzmZzt9VX3Qaj3Utct8CXK1d8Fzkn6codsMF3leu4LJvAkxQrXBVCo5KEu8QmWpjcObOVzQakB0S0hUYGuQ9kjbbR6toF2JbELphGvlBsaSKkuTX9Bo8jvfSAD1lxs+JVsY0G+oimnV30WKWKsCH+PatlTtxDxQUNeMFYt8DjlCr5NcU0h2NMsEtspIFx7jF4L+kcQ8GUfbXVMS9wWkEjuBBzqhoIjDikHQoVbCW75egVW8QPYRrHoYvWij9+2urmGUuUyh0BgeuVCl9hdYvcVvUQuFapcDv2Rm+rWi2BERr7ptXNM2CrlJbAgxQKRljoB1Y3z4C4OxXKHQSBaxQK/p/VzDc0jtLWaAm83+rlGwe0BNaIk+pp9fINjU2HfhBYI0tOX6uXb2iEFffWym9VZfXyjWqNQrUEtrmzYmIz+KI1EkYfki7HXm3q/UXDtmGlRsEppW/jYKubZwwmnXDlVIXikuZEq5tn1CmVu7+C9HJV1VndIn8Z9kHg3UqFj7K6ecbZSuXuhsA7lQofa3WL3FY7NQU+k5xwXIvCPoMRmgJvVioc7soJVr+CmEB6rt3NEHiT4sNPsfoVxBWKZW+CowPpfLYrVYBtQ+w3t1odswJDGLIPaR2MPx5vMCIq9ypVgAefbnXMiemK4iJsdkfaF71GsRG3kL20Ixt6iW20cCRdYtrwKxUrwiGra62e3fB50r39vNkt8IvKjcEZnGqraSeqxSaaWOEWGD+0KVaGidb9VtdO/Ih0gh3TaMsUGFtVy5UbhVu8plltjyRJmalcx3LRtMvk548hNO5hcpJ8lytw4u/nIdTTmQLanU4Ymei2hVA5Ut4jwXhLmYmLk5ZLQ5qL1JKTIL3LG4xfhHHcpFoaenEZiYv8J8+GJO7qtLiUZX26IMRZJE7U3UmlHWKLtiFt0lMUXhrHx90/ZGZ8/yg5u0uVIRoBSzRc9rSuxMRFysJ5pJ97zA2cCYPreVeuNxib/4simHjAk/YT0snCGjYQnfELcjxJo0OuexFlpMzIdmfDBcy/+ii0WWZtKBjZArB5jS2wXkV+AzFM/JSSdfwUyUU/SU6m3qYIh50JmdrlupQDV9+M9FAgbg/5EHU/SYiu/mbmbCo+3hepl56QL8/fKX4huD1lyYekY1Mp+iBDDHFndvvm5RAYi3Gv2V9uZ34/y0IbnpTH5I0cGfDhcR3cC9Jb4Iq9Vyj8iy0xtuE6n1HSS0HcD8foCwff9nyvAqN7RaIur0lUHiDnqrU215pvgMyUEZKykFzp9QwB25xbZD39TTJ/Ewsmmj+WttRJTxVXwA7YuOge4w6Bc/DaDn/YyByZUcYVzGXMY+VP0ziQpU6TbGC+3xF/XJerDfkaV8Fc77OiVuYlrjKGMXczJzFrmNsNN2yWorhpfi3m4r4sWmV9/kJX28ED4zcdEu5HQlbzbHvMkynPNWxFTCrOIv1LsjCZQtLQuN56PpnypGEqFGmxhPzfXYgrY35PXe8OqBJXHcaIRw017D4K5wY0rBDujam4T1OBHFtebh/FRAt3GPrNRovdqfQFH8fIpAj37OG2TORKPjlAwxDMN5DCu02trziB4nT3Eya0w2SCRcW+wekZ2neKeIBG18y5VTxWt8nyppGCBdz/hcK9Ku+A1Bkn3FlIXK8CA/dTcXfe/sBVBxwXy6S7xloSV9duKLJxKyMwaJwy98G1O9fLB70KnBLnh9+35hTqfssI7uPFjseD5By6wpfgkI8yEai/NAKjxiWp+UHRImVSYOA1cT/6xeyMn58jJ7LjoHTdc8TN9y1ydpYyg+T3iGcM9xyMkS/NPyIw7LaYCHyzOKG8oYh14fwi1mrn5invROazzAeZR8nv+jOHMPu5PjeKOZd5fghr32ysjcGad4Hf5y6moVXMdT4frJnZM0d5dcw98rkG+d158rsNIjZ+t1Y+Mz8igT8SsbhwOvX1+9zFnDh4T5Y/fg6Oj5FZXzYgcfjx5ISRrnGNM0jQ+S+Xfxt3AV3KvD6irjEVYbe8R2zuOxuel3VwLmA35XnydxcuIjfmUTKBnaN3IppUTSx25RDkzBC27qb69CY9JNP7ygQKHMUzw7bTgiwLgx4KW8z8gk+RMatGQMFFCRO4KgJxYdtAIVQmTv0tkHHRj8jDZS2Lvdwbyd8xjmOp9JOdwpazyECUa5AxOBM46/pYgC8N3G6vyHpzn6yHEeuEdMfYuKgl54o8BBL0p/AjOmpl0hfWm2skhNlkCls8EJKqLfQ58UpjKHmPIOlTom/uQZnXLDZVoOmD2dha/BTp33Z2dAmKC5tdaFJcDYFJxtVzInInJhXrxWbNpgvWSq2AszHYVHjUalcQiF4dS67zREkQGIDH6zrmDfJ3i+72+ZJMqNTsE0ZylEfICchusZp2GcYQT/awdkVhZb9BNj1EdNxC4UZixHGWPEdssSmMCsNMb4TgtR+SE534ZBmKizafRk6AQ2iXhkWRvwqTiSmyJFhbBsLiXNVF0uZtYVceZYIyBLEhNusa8h8Ok4SUTBulbWjjc1E9RNQZ6OAnxQlC+KZx7HKVx//3dgTP6jXNVIu0Zbi07XCUBjbpizYFBAekz9lm81itoeiyySOytCGH+L8l51zzyjgZM44Cp4EN9qvI2cRAcAE2HnC4+ctaTgEPqCXn9P4F8maix1kg4r4TRyPGWWCLEhiDLZTxfwEGAIg2ItsKhKpcAAAAAElFTkSuQmCC\"","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactGA from 'react-ga';\r\nimport './index.css';\r\nimport App from './App';\r\nimport MapSelector from './MapSelector';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nReactGA.initialize('UA-189112106-1');\r\nReactGA.pageview(window.location.pathname + window.location.search);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router basename=\"/tarkov-debrief\">\r\n      <Switch>\r\n        <Route path=\"/app/:map\">\r\n          <App />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <MapSelector />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}